{"is_source_file": true, "format": "Kotlin", "description": "This file defines the core logic for a chess game, including game state management, move execution, move undoing, and game status checks such as checkmate and stalemate. It encapsulates the game rules and state transitions within the ChessGame class.", "external_files": ["org/example/app/core/move/Move"], "external_methods": [], "published": ["ChessGame", "ChessGame.HistoryEntry"], "classes": [{"name": "ChessGame", "description": "A class managing the state and rules of a chess game, including move logic, game status, and history tracking."}, {"name": "ChessGame.HistoryEntry", "description": "A data class representing an entry in the move history, capturing move details, previous position, side to move, and any captured piece."}], "methods": [{"name": "legalMoves", "description": "Returns a list of all legal moves available in the current position."}, {"name": "legalMovesFrom", "description": "Returns a list of legal moves from a specific square."}, {"name": "isInCheck", "description": "Checks if the specified color's king is in check."}, {"name": "requiresPromotion", "description": "Determines if a move requires pawn promotion based on the move's target square and pawn position."}, {"name": "tryMakeMove", "description": "Attempts to execute a move if it is legal; updates game state and history on success."}, {"name": "undoLastPly", "description": "Undoes the last move made, restoring the previous game state."}, {"name": "capturedBy", "description": "Returns a list of captured pieces for the specified side."}, {"name": "computeCapturedPiece", "description": "Determines which piece was captured during a move, considering en passant and normal captures."}, {"name": "sameMove", "description": "Checks if two moves are identical."}, {"name": "normalizeMove", "description": "Returns a move with designated promotion piece if needed."}], "calls": ["Rules.isKingInCheck", "Rules.generateLegalMoves", "Rules.generateLegalMovesFrom", "PieceType.PAWN", "PieceType.QUEEN", "_position.pieceAt", "_position.makeMove", "PlayerColor.opposite"], "search-terms": ["ChessGame", "move execution", "game status", "move history", "legal moves", "undo move", "promotion logic", "capture handling"], "state": 2, "file_id": 14, "knowledge_revision": 34, "git_revision": "", "hash": "95a8f566db731355d7f5abc56d941b63", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/core/ChessGame.kt", "revision_history": [{"34": ""}]}