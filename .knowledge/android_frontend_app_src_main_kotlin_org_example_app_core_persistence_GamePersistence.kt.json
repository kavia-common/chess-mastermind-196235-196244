{"is_source_file": true, "format": "Kotlin", "description": "This file handles persistence for a chess game, including serialization and deserialization of game states to shared preferences, with custom encoding of game properties and board layout.", "external_files": ["android.content.Context", "org.example.app.core.CastlingRights", "org.example.app.core.ChessGame", "org.example.app.core.GameMode", "org.example.app.core.Piece", "org.example.app.core.PieceType", "org.example.app.core.PlayerColor", "org.example.app.core.Position", "org.example.app.core.Square"], "external_methods": [], "published": ["saveLastGame", "loadLastGame"], "classes": [], "methods": [{"name": "saveLastGame", "description": "Saves the current chess game state to Android shared preferences after serializing it."}, {"name": "loadLastGame", "description": "Loads the last saved chess game state from shared preferences and deserializes it."}, {"name": "serialize", "description": "Converts a ChessGame object into a custom string format for persistence."}, {"name": "deserialize", "description": "Reconstructs a ChessGame object from its serialized string format."}, {"name": "b", "description": "Helper for converting boolean castling rights to '1' or '0'."}, {"name": "pieceToChar", "description": "Converts a Piece object to its character representation for serialization."}, {"name": "charToPiece", "description": "Converts a character back to a Piece object during deserialization."}], "calls": ["context.getSharedPreferences", "SharedPreferences.edit", "SharedPreferences.getString", "SharedPreferences.putString", "SharedPreferences.apply", "runCatching", "deserialize", "GameMode.valueOf", "PlayerColor.valueOf", "Square.fromAlgebraic", "Position", "CharSequence.mapNotNull", "Char.uppercaseChar", "Char.lowercaseChar", "PieceType"], "search-terms": ["GamePersistence", "serialize", "deserialize", "shared preferences", "chess game state", "algebraic notation", "piece serialization", "castling rights", "en passant", "FEN encoding"], "state": 2, "file_id": 17, "knowledge_revision": 37, "git_revision": "", "hash": "4a8e61708b7f340d900911fa39f70466", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/core/persistence/GamePersistence.kt", "revision_history": [{"37": ""}]}